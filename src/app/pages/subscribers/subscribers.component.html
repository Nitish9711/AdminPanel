<ng-template #content let-modal>

  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">SEND MAIL</h4>
    <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body slide-in-fwd-center">


    <form [formGroup]="form" class="mat-form-field" id="formLogin" name="formLogin" role="form">



      <mat-form-field appearance="outline">
        <mat-label for="uname1">SUBJECT</mat-label>
        <input matInput placeholder="Name" formControlName="subject" id="uname1" name="uname1">
      </mat-form-field><br>


      <mat-form-field appearance="outline">
        <mat-label>Content</mat-label>
        <textarea matInput placeholder="Profession" formControlName="content" id="pwd1"></textarea>
      </mat-form-field><br>






      <div class="mat-form-field img-btn">
        <button mat-stroked-button class="img-pick" color="primary" type="button" (click)="filePicker.click()">Pick Image</button>
        <input type="file" name = "image" #filePicker (change)="onImagePicked($event)">
      </div>
      <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').valid">
        <img [src]="imagePreview" [alt]="form.value.title">
      </div>
      <div class="image-preview" *ngIf="imagePreview !== '' && imagePreview && form.get('image').invalid">
        <mat-error *ngIf="form.get('image').invalid">Please select an Image</mat-error>
      </div>





      <div class="modal-footer">
        <button  mat-raised-button color="primary" type="submit" (click)="modal.close('Save click'); onSendMail($event)" class="btn-save">SEND MAIL</button>
      </div>

    </form>
  </div>

</ng-template>






<div class="row">
  <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title" style="text-align: center;">Subscribers List</h4>
      </div>
      <div><button mat-raised-button color="primary" class="add-btn" (click)="open(content)"><span
            class="material-icons">
            add_circle
          </span> SEND MAIL </button></div>
          <mat-spinner *ngIf="isLoading"></mat-spinner>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table" multi = "true" >
            <thead class=" text-primary">
              <th>
                name
              </th>
              <th>
                email
              </th>

              <th>
                phone
              </th>

            </thead>
            <tbody>


              <tr *ngFor="let subscriber of subscribers">
                <td>
                  {{ subscriber.name }}
                </td>
                <td>
                  {{ subscriber.email }}
                </td>


                <td>
                  {{ subscriber.phone}}
                </td>

              </tr>

            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

</div>
